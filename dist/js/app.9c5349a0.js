(function(e){function t(t){for(var n,r,s=t[0],l=t[1],c=t[2],d=0,u=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);m&&m(t);while(u.length)u.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},a={app:0},i=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var m=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0129":function(e,t,o){},"034f":function(e,t,o){"use strict";o("85ec")},"0933":function(e,t,o){},"0dc0":function(e,t,o){},"14d7":function(e,t,o){e.exports=o.p+"img/icon-all.59cffc5b.png"},1771:function(e,t,o){var n={"./feather-sprite.svg":"2ec6","./icon-all.png":"14d7","./icon-book.png":"2bea","./icon-box.png":"77bc","./icon-briefcase.png":"bbae","./icon-coffee.png":"5700","./icon-columns.png":"fd4b","./icon-compass.png":"64df","./icon-home.png":"7d89","./icon-music.png":"e043","./icon-noicon.png":"5810","./icon-trash.png":"f7ea","./icon-truck.png":"e7e4","./inventoryLogo.png":"5d0f","./logo.png":"cf05"};function a(e){var t=i(e);return o(t)}function i(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="1771"},"2bea":function(e,t,o){e.exports=o.p+"img/icon-book.7080b29a.png"},"2ec6":function(e,t,o){e.exports=o.p+"img/feather-sprite.8bf209bf.svg"},"3be8":function(e,t,o){},"49ec":function(e,t,o){},5461:function(e,t,o){"use strict";o("0dc0")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row"},[n("nav",{staticClass:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",attrs:{id:"sidebarMenu"}},[n("div",{staticClass:"profile"},[n("h5",{staticClass:"profile-header"},[e._v(e._s(e.user.name))]),n("p",{staticClass:"text-small"},[e._v(e._s(e.user.login))]),void 0==e.user.name?n("div",{staticClass:"logo"},[n("img",{attrs:{src:o("5d0f"),alt:""}}),n("h1",[e._v("inventory")])]):e._e()]),n("hr"),n("ul",{staticClass:"menu"},[void 0!=e.user.name?n("li",[n("router-link",{attrs:{to:"/"}},[e._v("Главная")])],1):e._e(),void 0!=e.user.name?n("li",[n("router-link",{attrs:{to:"/Communities"}},[e._v("Сообщества")])],1):e._e(),n("li"),void 0==e.user.name?n("li",[n("router-link",{attrs:{to:"/login"}},[e._v("Вход")])],1):e._e(),void 0==e.user.name?n("li",[n("router-link",{attrs:{to:"/registration"}},[e._v("Регистрация")])],1):e._e(),void 0!=e.user.name?n("li",[n("button",{staticClass:"btn btn-sm btn-secondary",on:{click:function(t){return e.logout()}}},[e._v("Выход")])]):e._e()])]),n("main",{staticClass:"col-md-9 ml-sm-auto col-lg-10 px-md-4"},[n("router-view")],1)])])])},i=[];o("d3b7");function r(e){return new Promise((function(t,o){var n=s(e.method,e.data,e.token,e.contentType);fetch(e.url,n).then((function(e){var t=e.json();return t})).then((function(e){t(e)})).catch((function(e){console.log("403 happend"),o(e)}))}))}function s(e,t,o,n){var a={};return"multipart/form-data"==n?(console.log("where are you?",a),a={method:e,headers:new Headers({Authorization:"Bearer "+o}),body:t},delete a.headers["Content-Type"]):"POST"==e||"PUT"==e?(a={method:e,headers:new Headers({"Content-Type":"application/json",Authorization:"Bearer "+o}),body:JSON.stringify(t)},console.log("ahaha",a)):(console.log("tut?",a),a={method:e,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+o}}),a}function l(){return r({method:"GET",url:"/api/users",token:localStorage.accessToken})}function c(e){return r({method:"PUT",url:"/api/users",data:e,token:localStorage.accessToken})}var m={name:"App",data:function(){return{user:{}}},methods:{logout:function(){localStorage.accessToken="",localStorage.refreshToken="",this.user={},this.$router.push("/login")},loadPage:function(){var e=this;l().then((function(t){console.log(t),e.user=t}),(function(t){console.log("error handler ",t),e.request.refreshToken().then((function(e){console.log(e)}))}))}},created:function(){var e=this;this.$eventBus.$on("reloadApp",(function(){console.log("reloading..."),e.loadPage()}))},mounted:function(){this.loadPage()}},d=m,u=(o("034f"),o("2877")),p=Object(u["a"])(d,a,i,!1,null,null,null),g=p.exports,f=o("8c4f"),v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("h1",[e._v("Главная")]),o("div",{staticClass:"toolbar"},[o("UserCommunities",{on:{selectedCommunityUpdated:function(t){return e.loadPage()}}}),o("router-link",{staticClass:"circleButton",attrs:{to:{name:"FoldersCreateUpdate",params:{selectedCommunity:e.user.selectedCommunity}}}},[e._v(" Создать папку ")]),o("router-link",{staticClass:"circleButton",attrs:{to:{name:"StorageCreateUpdate",params:{selectedCommunity:e.user.selectedCommunity}}}},[e._v(" Создать Хранилище ")])],1),o("Folders",{attrs:{selectedCommunity:e.user.selectedCommunity}}),o("Storages",{attrs:{selectedCommunity:e.user.selectedCommunity}})],1)},h=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h4",[e._v("Хранилища")]),n("div",{staticClass:"folder-container"},e._l(e.storages,(function(t,a){return n("div",{key:a,staticClass:"folder"},["Все вещи"!=t.storage.name&&"Корзина"!=t.storage.name&&"Given"!=t.storage.name?n("div",{staticClass:"dropdown show"},[n("button",{staticClass:"dropdown",class:{show:e.dropdownShow==a},on:{click:function(t){return e.openDropdown(a)}}},[n("svg",{staticClass:"feather"},[n("use",{attrs:{"xlink:href":o("2ec6")+"#more-horizontal"}})])]),n("div",{staticClass:"dropdown-menu dropdown-menu-right",class:{show:e.dropdownShow==a},attrs:{"aria-labelledby":"dropdownMenuLink"}},[n("router-link",{attrs:{to:{name:"StorageCreateUpdate",params:{storage:t.storage}}}},[n("h2",{staticClass:"folder-header"},[e._v("Редактировать")])]),n("button",{staticClass:"dropdown-item",on:{click:function(t){return e.deleteStorage(a)}}},[e._v("Удалить")])],1)]):e._e(),n("div",{staticClass:"folder-image",class:{grey:void 0==t.storage.color,blue:"blue"==t.storage.color,green:"green"==t.storage.color,indigo:"indigo"==t.storage.color,orange:"orange"==t.storage.color,pink:"pink"==t.storage.color,purple:"purple"==t.storage.color,red:"red"==t.storage.color,teal:"teal"==t.storage.color,yellow:"yellow"==t.storage.color,"folder-image-more":"Все вещи"!=t.storage.name&&"Корзина"!=t.storage.name&&"Given"!=t.storage.name}},[void 0!=t.storage.image?n("img",{attrs:{src:o("1771")("./"+t.storage.image),alt:""}}):e._e()]),n("router-link",{attrs:{to:{name:"Items",params:{from:t.storage,fromType:"Storage"}}}},[n("h2",{staticClass:"folder-header"},[e._v(e._s(t.storage.name))])]),n("p",{staticClass:"folder-item-count"},[e._v(e._s(t.itemCount)+" "),"Все вещи"!=t.storage.name&&"Корзина"!=t.storage.name&&"Given"!=t.storage.name?n("span",[e._v("вещей")]):e._e()])],1)})),0)])},I=[];o("99af"),o("a9e3");function C(){return console.log("GET /api/storages"),r({method:"GET",url:"/api/storages",token:localStorage.accessToken})}function b(e){return console.log("POST /api/storages"),r({method:"POST",url:"/api/storages",data:e,token:localStorage.accessToken})}function w(e){return console.log("PUT /api/storages"),r({method:"PUT",url:"/api/storages",data:e,token:localStorage.accessToken})}function _(e){return console.log("DELETE /api/storages?storageId=".concat(e)),r({method:"DELETE",url:"/api/storages?storageId=".concat(e),token:localStorage.accessToken})}var k={name:"Storages",props:{selectedCommunity:Number},data:function(){return{storages:[],dropdownShow:null}},methods:{loadPage:function(){var e=this;C().then((function(t){console.log(t),e.storages=t}))},update:function(){alert("was updated ".concat(this.selectedCommunity))},openDropdown:function(e){console.log(e),null==this.dropdownShow?this.dropdownShow=e:this.dropdownShow=null},deleteStorage:function(e){var t=this;console.log("deleteing: ",this.storages[e]);var o=confirm("⚠️This Storage will be deleted ".concat(this.storages[e].storage.id));o&&_(this.storages[e].storage.id).then((function(e){console.log(e),t.loadPage()}))}},watch:{selectedCommunity:function(e,t){var o=this;console.log("was updated ".concat(this.selectedCommunity,", ").concat(e,", ").concat(t)),C().then((function(e){console.log(e),o.storages=e}))}},mounted:function(){this.loadPage()}},x=k,T=Object(u["a"])(x,y,I,!1,null,"008c4ac7",null),P=T.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h4",[e._v("Папки")]),n("div",{staticClass:"folder-container"},e._l(e.folders,(function(t,a){return n("div",{key:a,staticClass:"folder"},["Все вещи"!=t.folder.name&&"Корзина"!=t.folder.name&&"Отданные"!=t.folder.name?n("div",{staticClass:"dropdown show"},[n("button",{staticClass:"dropdown",class:{show:e.dropdownShow==a},on:{click:function(t){return e.openDropdown(a)}}},[n("svg",{staticClass:"feather"},[n("use",{attrs:{"xlink:href":o("2ec6")+"#more-horizontal"}})])]),n("div",{staticClass:"dropdown-menu dropdown-menu-right",class:{show:e.dropdownShow==a},attrs:{"aria-labelledby":"dropdownMenuLink"}},[n("router-link",{attrs:{to:{name:"FoldersCreateUpdate",params:{folder:t.folder}}}},[n("h2",{staticClass:"folder-header"},[e._v("Редактировать")])]),n("button",{staticClass:"dropdown-item",on:{click:function(t){return e.deleteFolder(a)}}},[e._v("Удалить")])],1)]):e._e(),n("div",{staticClass:"folder-image",class:{grey:void 0==t.folder.color,blue:"blue"==t.folder.color,green:"green"==t.folder.color,indigo:"indigo"==t.folder.color,orange:"orange"==t.folder.color,pink:"pink"==t.folder.color,purple:"purple"==t.folder.color,red:"red"==t.folder.color,teal:"teal"==t.folder.color,yellow:"yellow"==t.folder.color,"folder-image-more":"Все вещи"!=t.folder.name&&"Корзина"!=t.folder.name&&"Отданные"!=t.folder.name}},[void 0!=t.folder.image?n("img",{attrs:{src:o("1771")("./"+t.folder.image),alt:""}}):e._e()]),n("router-link",{attrs:{to:{name:"Items",params:{from:t.folder,fromType:"Folder"}}}},[n("h2",{staticClass:"folder-header"},[e._v(e._s(t.folder.name))])]),n("p",{staticClass:"folder-item-count"},[e._v(e._s(t.itemCount)+" "),"Все вещи"!=t.folder.name&&"Корзина"!=t.folder.name&&"Отданные"!=t.folder.name?n("span",[e._v("вещей")]):e._e()])],1)})),0)])},D=[],$=(o("4160"),o("159b"),o("2909"));function N(){return console.log("GET /api/folders"),r({method:"GET",url:"/api/folders",token:localStorage.accessToken})}function U(e){return console.log("POST /api/folders"),r({method:"POST",url:"/api/folders",data:e,token:localStorage.accessToken})}function E(e){return console.log("PUT /api/folders"),r({method:"PUT",url:"/api/folders",data:e,token:localStorage.accessToken})}function O(e){return console.log("DELETE /api/folders"),r({method:"DELETE",url:"/api/folders?folderId=".concat(e),token:localStorage.accessToken})}var z={name:"Folders",components:{},props:{selectedCommunity:Number},data:function(){return{folders:[],dropdownShow:null}},methods:{loadPage:function(){var e=this;N().then((function(t){var o;console.log(t),e.dropdownShowA=[],t.forEach((function(){e.dropdownShowA.push(!1)}));var n=[{folder:{name:"Все вещи",image:"icon-all.png",color:"blue",communityId:e.selectedCommunity}},{folder:{name:"Корзина",image:"icon-trash.png",color:"red",communityId:e.selectedCommunity}},{folder:{name:"Отданные",image:"icon-book.png",color:"indigo",communityId:e.selectedCommunity}}];e.folders=n,(o=e.folders).push.apply(o,Object($["a"])(t))}))},update:function(){alert("was updated ".concat(this.selectedCommunity))},openDropdown:function(e){console.log(e),null==this.dropdownShow?this.dropdownShow=e:this.dropdownShow=null},deleteFolder:function(e){var t=this;console.log("deleteing: ",this.folders[e]);var o=confirm("⚠️This Folder will be deleted");o&&O(this.folders[e].folder.id).then((function(e){console.log(e),t.loadPage()}))}},watch:{selectedCommunity:function(e,t){console.log("was updated ".concat(this.selectedCommunity,", ").concat(e,", ").concat(t)),this.loadPage()}},mounted:function(){this.loadPage()}},G=z,F=(o("ab2d"),Object(u["a"])(G,S,D,!1,null,null,null)),j=F.exports,L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hello"},[o("select",{staticClass:"form-select circleButton",attrs:{"aria-label":"Default select example"},on:{change:function(t){return e.changeSelectedCommunity(t)}}},e._l(e.userCommunities,(function(t){return o("option",{key:t.id,domProps:{selected:t.communityId==e.user.selectedCommunity,value:t.communityId}},[e._v(" "+e._s(t.community.name)+" ")])})),0)])},A=[];function B(){return r({method:"GET",url:"/api/userCommunities",token:localStorage.accessToken})}function R(e){return r({method:"DELETE",url:"/api/userCommunities?id=".concat(e),token:localStorage.accessToken})}function M(e){return r({method:"POST",url:"/api/addUserToCommunity",data:e,token:localStorage.accessToken})}var q={name:"UserCommunities",data:function(){return{userCommunities:[],user:{selectedCommunity:7}}},methods:{changeSelectedCommunity:function(e){var t=this;console.log("communityId",e.target.options[e.target.options.selectedIndex].value),this.user.selectedCommunity=e.target.options[e.target.options.selectedIndex].value;var o={selectedCommunity:e.target.options[e.target.options.selectedIndex].value};c(o).then((function(e){console.log("user upd",e),t.$emit("selectedCommunityUpdated")}))}},mounted:function(){var e=this;B().then((function(t){e.userCommunities=t})),l().then((function(t){e.user=t}))}},Y=q,H=(o("8719"),Object(u["a"])(Y,L,A,!1,null,"41349546",null)),J=H.exports,K={name:"Home",components:{Storages:P,Folders:j,UserCommunities:J},data:function(){return{user:{}}},methods:{loadPage:function(){var e=this;l().then((function(t){console.log(t),e.user=t}),(function(t){console.log("error handler ",t),e.request.refreshToken().then((function(e){console.log(e)}))}))}},mounted:function(){this.loadPage()}},Q=K,V=(o("7762"),Object(u["a"])(Q,v,h,!1,null,"266e97ae",null)),W=V.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"Items"},[o("h2",[e._v(e._s(e.from.name))]),o("div",{staticClass:"toolbar"},[o("button",{staticClass:"circleButton",on:{click:function(t){return e.toggleCreateComponent()}}},[e._v("+ "+e._s(e.addNewItemButton))])]),e.showCreateComponent?o("CreateItem",{attrs:{from:e.from,fromType:"Folder",userStorages:e.userStorages,userFolders:e.userFolders},on:{reloadCards:function(t){return e.loadItems(e.from)}}}):e._e(),0==e.items.length?o("div",{staticClass:"message-empty-content"},[o("h3",[e._v("Нет вещей!")]),o("p",[e._v("Создайте вещи, нажав на кнопку Add Item")])]):e._e(),"Cards"!=e.displayMode||e.showCreateComponent?e._e():o("div",{staticClass:"card-block"},e._l(e.filteredItems,(function(t,n){return o("div",{key:n},[o("ItemCard",{attrs:{item:t,index:n,from:e.from,userStorages:e.userStorages,userFolders:e.userFolders},on:{reloadCards:function(t){return e.loadItems(e.from)}}})],1)})),0)],1)},Z=[],ee=(o("4de4"),o("c975"),o("b0c0"),o("498a"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"CreateItem"},[o("div",{staticClass:"item-card"},[o("div",{staticClass:"card-image"},[o("div",{staticClass:"card_img-container"},[o("img",{attrs:{src:e.itemInfo.image,alt:"",srcset:""}})])]),o("div",{staticClass:"card-body"},[o("div",{staticClass:"item-card-header"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.name,expression:"itemInfo.name"}],attrs:{type:"text",name:"name",placeholder:"Название"},domProps:{value:e.itemInfo.name},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"name",t.target.value)}}})]),o("div",{staticClass:"card-information"},[o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.description,expression:"itemInfo.description"}],attrs:{type:"text",name:"description",placeholder:"Описание"},domProps:{value:e.itemInfo.description},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"description",t.target.value)}}})]),o("p",[e._v("Фото: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.image,expression:"itemInfo.image"}],attrs:{type:"text",name:"image",placeholder:"Фото"},domProps:{value:e.itemInfo.image},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"image",t.target.value)}}}),o("input",{staticClass:"circleButton",attrs:{type:"file",name:"file",id:"file",accept:"image/*"},on:{change:e.previewImage}})]),o("p",[e._v("Дата покупки: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.purchaseDate,expression:"itemInfo.purchaseDate"}],attrs:{type:"text",name:"purchaseDate",placeholder:"Дата покупки ГГГГ-ММ-ДД"},domProps:{value:e.itemInfo.purchaseDate},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"purchaseDate",t.target.value)}}})]),o("p",[e._v("Гарантия: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.guarantee,expression:"itemInfo.guarantee"}],attrs:{type:"text",name:"guarantee",placeholder:"гарантия"},domProps:{value:e.itemInfo.guarantee},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"guarantee",t.target.value)}}})]),o("p",[e._v("Цена: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.cost,expression:"itemInfo.cost"}],attrs:{type:"text",name:"cost",placeholder:"cost"},domProps:{value:e.itemInfo.cost},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"cost",t.target.value)}}})]),o("p",[e._v("Количество: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.count,expression:"itemInfo.count"}],attrs:{type:"text",name:"count",placeholder:"count"},domProps:{value:e.itemInfo.count},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"count",t.target.value)}}})]),0!=e.userStorages?o("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(t){return e.changeStorage(t)}}},e._l(e.userStorages,(function(t,n){return o("option",{key:t.storage.id,domProps:{selected:0==e.userStorages[n],value:t.storage.id}},[e._v(" "+e._s(t.storage.name)+" ")])})),0):e._e(),o("p",[e._v("Хранилище: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.storageId,expression:"itemInfo.storageId"}],attrs:{type:"text",name:"storage",placeholder:"storage"},domProps:{value:e.itemInfo.storageId},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"storageId",t.target.value)}}})]),0!=e.userFolders?o("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example"},on:{change:function(t){return e.changeFolder(t)}}},e._l(e.userFolders,(function(t,n){return o("option",{key:t.folder.id,domProps:{selected:0==e.userFolders[n],value:t.folder.id}},[e._v(" "+e._s(t.folder.name)+" ")])})),0):e._e(),o("p",[e._v("Папка: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemInfo.folderId,expression:"itemInfo.folderId"}],attrs:{type:"text",name:"folder",placeholder:"folder"},domProps:{value:e.itemInfo.folderId},on:{input:function(t){t.target.composing||e.$set(e.itemInfo,"folderId",t.target.value)}}})]),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"save"},on:{click:function(t){return e.createItem()}}})])])])])}),te=[];o("a4d3"),o("e01a"),o("fb6a");function oe(e){return r({method:"POST",url:"/api/previewUploadImage",data:e,contentType:"multipart/form-data",token:localStorage.accessToken})}function ne(e){return r({method:"DELETE",url:"/api/previewUploadImage?file=".concat(e),token:localStorage.accessToken})}function ae(e){return r({method:"GET",url:"/api/items?".concat(e.prop,"=").concat(e.value),token:localStorage.accessToken})}function ie(e){return console.log(e),r({method:"POST",url:"/api/items",data:e,contentType:"multipart/form-data",token:localStorage.accessToken})}function re(e){return r({method:"PUT",url:"/api/items",data:e,contentType:"multipart/form-data",token:localStorage.accessToken})}function se(e){return r({method:"DELETE",url:"/api/items?id=".concat(e),token:localStorage.accessToken})}var le={name:"CreateItem",props:{from:{},fromType:String,userStorages:Array,userFolders:Array},data:function(){return{itemInfo:{name:"",description:"",image:"",purchaseDate:"",guarantee:"",cost:"",count:"",storageId:"",folderId:"",communityId:""},communityId:this.from.communityId,isLoad:!1,file:Object}},methods:{createItem:function(){var e=this,t="."+this.itemInfo.image.slice(21);console.log("this is file ",t),ne(t).then((function(t){console.log(t);var o={name:e.itemInfo.name,description:e.itemInfo.description,purchaseDate:e.itemInfo.purchaseDate,guarantee:e.itemInfo.guarantee,cost:e.itemInfo.cost,count:e.itemInfo.count,storageId:e.itemInfo.storageId,folderId:e.itemInfo.folderId,communityId:e.communityId},n=new FormData;for(var a in console.log(o),o)if(o.hasOwnProperty.call(o,a)){var i=o[a];n.append(a,i)}n.append("image",e.file),console.log(n.get("name")),ie(n).then((function(t){console.log(t),e.$emit("reloadCards")}))}))},previewImage:function(e){var t=this;if(console.log(e.target.files[0]),this.file=e.target.files[0],""!=this.itemInfo.image){var o="."+this.itemInfo.image.slice(21);console.log("this is file ",o),ne(o).then((function(e){console.log(e)}))}var n=new FormData;n.append("image",this.file),oe(n).then((function(e){t.itemInfo.image=e.image}))},changeStorage:function(e){console.log("StorageId",e.target.options[e.target.options.selectedIndex].value),this.itemInfo.storageId=e.target.options[e.target.options.selectedIndex].value},changeFolder:function(e){console.log("FolderId",e.target.options[e.target.options.selectedIndex].value),this.itemInfo.folderId=e.target.options[e.target.options.selectedIndex].value}},mounted:function(){this.itemInfo.storageId=this.userStorages[0].storage.id,this.itemInfo.folderId=this.userFolders[0].folder.id}},ce=le,me=(o("ca34"),Object(u["a"])(ce,ee,te,!1,null,"00b3c07b",null)),de=me.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!=e.item?n("div",{staticClass:"item-card"},[n("div",{staticClass:"card-image"},[n("div",{staticClass:"card_img-container"},[n("img",{attrs:{src:e.item.image,alt:"",srcset:""}})]),n("p",[e._v("Фото: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.image,expression:"item.image"}],attrs:{type:"text",name:"image",placeholder:"Фото",disabled:e.isDisabled},domProps:{value:e.item.image},on:{input:function(t){t.target.composing||e.$set(e.item,"image",t.target.value)}}}),n("input",{staticClass:"circleButton item-card-header",attrs:{type:"file",name:"file",id:"file",accept:"image/*",disabled:e.isDisabled},on:{change:e.previewImage}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.image,expression:"item.image"}],staticClass:"item-card-header",attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.image},on:{input:function(t){t.target.composing||e.$set(e.item,"image",t.target.value)}}})]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"item-card-header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.name,expression:"item.name"}],staticClass:"item-card-header",attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.name},on:{input:function(t){t.target.composing||e.$set(e.item,"name",t.target.value)}}}),n("button",{staticClass:"card-edit-button",on:{click:function(t){return e.cardEdit()}}},[e._v(" "+e._s(e.cardEditBtnLabel)+" "),n("svg",{staticClass:"feather"},[n("use",{attrs:{"xlink:href":o("2ec6")+"#edit"}})])]),n("button",{staticClass:"card-delete-button",on:{click:function(t){return e.deleteItem()}}},[n("svg",{staticClass:"feather"},[n("use",{attrs:{"xlink:href":o("2ec6")+"#trash"}})])])]),n("div",{staticClass:"card-information"},[n("div",{staticClass:"card-item-information"},[n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.description,expression:"item.description"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.description},on:{input:function(t){t.target.composing||e.$set(e.item,"description",t.target.value)}}})]),n("p",[e._v("Дата покупки: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.purchaseDate,expression:"item.purchaseDate"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.purchaseDate},on:{input:function(t){t.target.composing||e.$set(e.item,"purchaseDate",t.target.value)}}})]),n("p",[e._v("Гарантия: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.guarantee,expression:"item.guarantee"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.guarantee},on:{input:function(t){t.target.composing||e.$set(e.item,"guarantee",t.target.value)}}})]),n("p",[e._v("Цена: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.cost,expression:"item.cost"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.cost},on:{input:function(t){t.target.composing||e.$set(e.item,"cost",t.target.value)}}})]),n("p",[e._v("Количество: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.count,expression:"item.count"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.count},on:{input:function(t){t.target.composing||e.$set(e.item,"count",t.target.value)}}})]),n("p",[e._v("Хранилище: "),0!=e.userStorages?n("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example",disabled:e.isDisabled},on:{change:function(t){return e.changeStorage(t)}}},e._l(e.userStorages,(function(t){return n("option",{key:t.storage.id,domProps:{selected:e.item.storage.name==t.storage.name,value:t.storage.id}},[e._v(" "+e._s(t.storage.name)+" ")])})),0):e._e()]),null!=e.item.folder?n("p",[e._v("Папка: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.folder.name,expression:"item.folder.name"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.folder.name},on:{input:function(t){t.target.composing||e.$set(e.item.folder,"name",t.target.value)}}}),0!=e.userFolders?n("select",{staticClass:"form-select",attrs:{"aria-label":"Default select example",disabled:e.isDisabled},on:{change:function(t){return e.changeFolder(t)}}},e._l(e.userFolders,(function(t){return n("option",{key:t.folder.id,domProps:{selected:e.item.folder.name==t.folder.name,value:t.folder.id}},[e._v(" "+e._s(t.folder.name)+" ")])})),0):e._e()]):e._e(),"null"!=e.item.utilizeDate&&null!=e.item.utilizeDate&&""!=e.item.utilizeDate||!e.isDisabled?n("div",{staticClass:"utilizedItem"},[n("hr"),"null"!=e.item.utilizeDate&&null!=e.item.utilizeDate&&""!=e.item.utilizeDate?n("p",[e._v("Восстановить вещь "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.restoreUtilized,expression:"restoreUtilized"}],attrs:{type:"checkbox",name:"",id:"",disabled:e.isDisabled},domProps:{checked:Array.isArray(e.restoreUtilized)?e._i(e.restoreUtilized,null)>-1:e.restoreUtilized},on:{change:function(t){var o=e.restoreUtilized,n=t.target,a=!!n.checked;if(Array.isArray(o)){var i=null,r=e._i(o,i);n.checked?r<0&&(e.restoreUtilized=o.concat([i])):r>-1&&(e.restoreUtilized=o.slice(0,r).concat(o.slice(r+1)))}else e.restoreUtilized=a}}})]):e._e(),n("p",[e._v("Дата утилизации: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.utilizeDate,expression:"item.utilizeDate"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.utilizeDate},on:{input:function(t){t.target.composing||e.$set(e.item,"utilizeDate",t.target.value)}}})]),n("p",[e._v("Причина утилизации: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.utilizeReason,expression:"item.utilizeReason"}],attrs:{type:"text",disabled:e.isDisabled},domProps:{value:e.item.utilizeReason},on:{input:function(t){t.target.composing||e.$set(e.item,"utilizeReason",t.target.value)}}})])]):e._e()]),null!=e.item.giving?n("div",{staticClass:"card-giving-information"},[n("p",[e._v("Кто дал: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.giving.userId,expression:"item.giving.userId"}],attrs:{type:"text",disabled:""},domProps:{value:e.item.giving.userId},on:{input:function(t){t.target.composing||e.$set(e.item.giving,"userId",t.target.value)}}})]),n("p",[e._v("Кому дал: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.giving.whoTakeName,expression:"item.giving.whoTakeName"}],attrs:{type:"text",disabled:""},domProps:{value:e.item.giving.whoTakeName},on:{input:function(t){t.target.composing||e.$set(e.item.giving,"whoTakeName",t.target.value)}}})]),n("p",[e._v("Телефон получателя: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.giving.whoTakePhone,expression:"item.giving.whoTakePhone"}],attrs:{type:"text",disabled:""},domProps:{value:e.item.giving.whoTakePhone},on:{input:function(t){t.target.composing||e.$set(e.item.giving,"whoTakePhone",t.target.value)}}})]),n("p",[e._v("Дата выдачи: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.giving.date,expression:"item.giving.date"}],attrs:{type:"text",disabled:""},domProps:{value:e.item.giving.date},on:{input:function(t){t.target.composing||e.$set(e.item.giving,"date",t.target.value)}}})]),n("p",[e._v("Ожидаемая дата возврата: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.giving.returnDate,expression:"item.giving.returnDate"}],attrs:{type:"text",disabled:""},domProps:{value:e.item.giving.returnDate},on:{input:function(t){t.target.composing||e.$set(e.item.giving,"returnDate",t.target.value)}}})]),n("p",[e._v("Залог: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.item.giving.pledge,expression:"item.giving.pledge"}],attrs:{type:"text",disabled:""},domProps:{value:e.item.giving.pledge},on:{input:function(t){t.target.composing||e.$set(e.item.giving,"pledge",t.target.value)}}})]),n("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.returnItem()}}},[e._v("Вернуть")])]):n("div",[e.isDisabled?e._e():n("CreateGiving",{attrs:{item:e.item},on:{givingCreated:e.onCreateGivingUpdate}})],1)])])]):e._e()},pe=[],ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"card-giving-information"},[o("p",[e._v("Кому дал: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.createdGiving.whoTakeName,expression:"createdGiving.whoTakeName"}],attrs:{type:"text"},domProps:{value:e.createdGiving.whoTakeName},on:{input:function(t){t.target.composing||e.$set(e.createdGiving,"whoTakeName",t.target.value)}}})]),o("p",[e._v("Телефон получателя: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.createdGiving.whoTakePhone,expression:"createdGiving.whoTakePhone"}],attrs:{type:"text"},domProps:{value:e.createdGiving.whoTakePhone},on:{input:function(t){t.target.composing||e.$set(e.createdGiving,"whoTakePhone",t.target.value)}}})]),o("p",[e._v("Дата выдачи: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.createdGiving.givingDate,expression:"createdGiving.givingDate"}],attrs:{type:"text",placeholder:"YYYY-MM-DD"},domProps:{value:e.createdGiving.givingDate},on:{input:function(t){t.target.composing||e.$set(e.createdGiving,"givingDate",t.target.value)}}})]),o("p",[e._v("Ожидаемая дата возврата: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.createdGiving.returnDate,expression:"createdGiving.returnDate"}],attrs:{type:"text",placeholder:"YYYY-MM-DD"},domProps:{value:e.createdGiving.returnDate},on:{input:function(t){t.target.composing||e.$set(e.createdGiving,"returnDate",t.target.value)}}})]),o("p",[e._v("Залог: "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.createdGiving.pledge,expression:"createdGiving.pledge"}],attrs:{type:"text",placeholder:"Цифры"},domProps:{value:e.createdGiving.pledge},on:{input:function(t){t.target.composing||e.$set(e.createdGiving,"pledge",t.target.value)}}})]),o("button",{staticClass:"circleButton",on:{click:function(t){return e.loading(t)}}},[e._v("Отдать")]),e.isLoad?o("div",[o("H1",[e._v("Сохранено")]),o("p",[e._v("можете заверишить редактирование, нажав на кнопку Done")])],1):e._e()])},fe=[];function ve(e){return r({method:"POST",url:"/api/givings",data:e,token:localStorage.accessToken})}function he(e){return r({method:"DELETE",url:"/api/givings?givingId=".concat(e),token:localStorage.accessToken})}var ye={name:"CreateGiving",props:{item:Object,folderName:String},data:function(){return{isLoad:!1,createdGiving:{whoGave:"",whoTakeName:"",whoTakePhone:"",givingDate:"",returnDate:"",pledge:""},user:{}}},methods:{loading:function(e){var t=this;e&&e.preventDefault(),this.isLoad=!0;var o={itemId:this.item.id,date:this.createdGiving.givingDate,returnDate:this.createdGiving.returnDate,userId:this.user.id,whoTakeName:this.createdGiving.whoTakeName,whoTakePhone:this.createdGiving.whoTakePhone,pledge:this.createdGiving.pledge};console.log(o),ve(o).then((function(e){console.log(e),t.$emit("givingCreated")}))}},mounted:function(){var e=this;l().then((function(t){console.log(t),e.user=t}),(function(t){console.log("error handler ",t),e.request.refreshToken().then((function(e){console.log(e)}))}))},computed:{from:function(){return this.folderName}}},Ie=ye,Ce=(o("828d"),Object(u["a"])(Ie,ge,fe,!1,null,"01f1cb81",null)),be=Ce.exports,we={name:"ItemCard",components:{CreateGiving:be},props:{item:{},index:Number,from:{},userStorages:Array,userFolders:Array},data:function(){return{isDisabled:!0,cardEditBtnLabel:"",reloadItems:"",file:"",restoreUtilized:!1}},methods:{cardEdit:function(){var e=this;if(1==this.isDisabled)this.isDisabled=!1,this.cardEditBtnLabel="Done";else{if(""!=this.file){var t="."+this.item.image.slice(21);console.log("this is file ",t),ne(t).then((function(e){console.log(e)}))}this.cardEditBtnLabel="",this.isDisabled=!0;var o={id:this.item.id,name:this.item.name,description:this.item.description,purchaseDate:this.item.purchaseDate,guarantee:this.item.guarantee,cost:this.item.cost,count:this.item.count,storageId:this.item.storageId,folderId:this.item.folderId,communityId:this.from.communityId};"null"!=this.item.utilizeDate&&""!=this.item.utilizeDate&&null!=this.item.utilizeDate&&(console.log("not empty",this.item.utilizeDate),o.utilizeDate=this.item.utilizeDate),"null"!=this.item.utilizeReason&&""!=this.item.utilizeReason&&null!=this.item.utilizeReason&&(console.log("not empty",this.item.utilizeReason),console.log("".concat(this.item.utilizeReason," != null"),null!=this.item.utilizeReason),console.log("".concat(this.item.utilizeReason," != 'null'"),"null"!=this.item.utilizeReason),console.log("".concat(this.item.utilizeReason," != ''"),""!=this.item.utilizeReason),o.utilizeReason=this.item.utilizeReason),1==this.restoreUtilized&&(o.utilizeDate=null,o.utilizeReason=null);var n=new FormData;for(var a in console.log(o),o)if(o.hasOwnProperty.call(o,a)){var i=o[a];n.append(a,i)}n.append("image",this.file),re(n).then((function(t){console.log(t),e.$emit("reloadCards")}))}},changeStorage:function(e){console.log("StorageId",e.target.options[e.target.options.selectedIndex].value),this.item.storageId=e.target.options[e.target.options.selectedIndex].value},changeFolder:function(e){console.log("FolderId",e.target.options[e.target.options.selectedIndex].value),this.item.folderId=e.target.options[e.target.options.selectedIndex].value},onCreateGivingUpdate:function(){console.log("Updating")},deleteItem:function(){var e=this,t=confirm("⚠️This item will be deleted");t&&(console.log("red: ",this.fromPlace),se(this.item.id).then((function(t){console.log(t),e.$emit("reloadCards")})))},previewImage:function(e){var t=this;if(console.log(e.target.files[0]),this.file=e.target.files[0],""!=this.item.image){var o="."+this.item.image.slice(21);console.log("this is file ",o),ne(o).then((function(e){console.log(e)}))}var n=new FormData;n.append("image",this.file),oe(n).then((function(e){t.item.image=e.image}))},returnItem:function(){var e=this;console.log("Destroyed",this.item.givingId),he(this.item.givingId).then((function(t){console.log("item returned",t),e.$emit("reloadCards")}))}},mounted:function(){}},_e=we,ke=(o("d3a4"),Object(u["a"])(_e,ue,pe,!1,null,"d8eb32ea",null)),xe=ke.exports,Te={name:"Items",components:{CreateItem:de,ItemCard:xe},props:{from:{},fromType:String},data:function(){return{items:[{id:Number,name:"",description:"",image:"",purchaseDate:"",guarantee:"",cost:"",count:"",storage:"",folder:""}],displayMode:"Cards",searchString:"",filterName:"name",showCreateComponent:!1,addNewItemButton:"Add Item",userStorages:[],userFolders:[]}},methods:{loadItems:function(){var e=this;this.showCreateComponent=!1;var t={prop:"",value:""};"Folder"==this.fromType?"Все вещи"==this.from.name?(t.prop="communityId",t.value=this.from.communityId):"Корзина"==this.from.name?(t.prop="trash",t.value=this.from.communityId):"Отданные"==this.from.name?(t.prop="giving",t.value=this.from.communityId):(console.log("loading items from folder",this.from),t.prop="folderId",t.value=this.from.id):"Storage"==this.fromType&&(console.log("loading items from storage",this.from),t.prop="storageId",t.value=this.from.id),ae(t).then((function(t){console.log(t),e.items=t}))},toggleCreateComponent:function(){0==this.showCreateComponent?(this.showCreateComponent=!0,this.addNewItemButton="Cancel"):(this.$emit("delete-preview"),this.showCreateComponent=!1,this.addNewItemButton="Add Item")}},mounted:function(){var e=this;this.loadItems(),console.log("loading items from folder",this.from),C().then((function(t){console.log(t),e.userStorages=t})),console.log("loading items from storage",this.from),N().then((function(t){console.log(t),e.userFolders=t}))},computed:{filteredItems:function(){var e=this.items,t=this.searchString;return t?(t=t.trim().toLowerCase(),"name"==this.filterName?e=e.filter((function(e){if(-1!==e.name.toLowerCase().indexOf(t))return e})):"storage"==this.filterName&&(e=e.filter((function(e){if(-1!==e.storage.name.toLowerCase().indexOf(t))return e}))),e):e}}},Pe=Te,Se=(o("c699"),Object(u["a"])(Pe,X,Z,!1,null,null,null)),De=Se.exports,$e=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-container"},[o("h1",[e._v("Вход")]),o("form",{staticClass:"login-form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Электронная почта"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Войти"},on:{click:function(t){return e.login(t)}}})])])},Ne=[],Ue={name:"Login",data:function(){return{email:"",password:""}},methods:{login:function(e){var t=this;console.log(e);var o={email:this.email,password:this.password};this.request.login(o).then((function(e){console.log(e),localStorage.accessToken=e.accessToken,localStorage.refreshToken=e.refreshToken,t.$eventBus.$emit("reloadApp"),t.$router.push("/")}))}}},Ee=Ue,Oe=(o("93e5"),Object(u["a"])(Ee,$e,Ne,!1,null,"4d7ca352",null)),ze=Oe.exports,Ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-container"},[o("h1",[e._v("Регистрация")]),o("form",{staticClass:"login-form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"Имя"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],attrs:{type:"text",placeholder:"Электронная почта"},domProps:{value:e.login},on:{input:function(t){t.target.composing||(e.login=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.repassword,expression:"repassword"}],attrs:{type:"password",placeholder:"Повторите пароль"},domProps:{value:e.repassword},on:{input:function(t){t.target.composing||(e.repassword=t.target.value)}}}),o("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Зарегистрироваться"},on:{click:function(t){return e.register()}}})])])},Fe=[],je={name:"Registration",data:function(){return{name:"",login:"",password:"",repassword:""}},methods:{register:function(){var e=this,t={user:{name:this.name,login:this.login,password:this.password}};this.password==this.repassword&&this.request.register(t).then((function(t){console.log(t),localStorage.accessToken=t.accessToken,localStorage.refreshToken=t.refreshToken,e.$router.push("login")}))}}},Le=je,Ae=(o("5461"),Object(u["a"])(Le,Ge,Fe,!1,null,"236f9168",null)),Be=Ae.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-folder"},[n("div",{staticClass:"card-image"},[n("div",{staticClass:"folder_img-container",class:[e.folderInfo.color?e.folderInfo.color:"light-grey"]},[n("img",{attrs:{src:o("1771")("./"+e.folderInfo.image),alt:"",srcset:""}})])]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"folder-card-header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.folderInfo.name,expression:"folderInfo.name"}],attrs:{type:"text",name:"name",placeholder:"Имя папки"},domProps:{value:e.folderInfo.name},on:{input:function(t){t.target.composing||e.$set(e.folderInfo,"name",t.target.value)}}})]),n("div",{staticClass:"folder-icon-select"},e._l(e.iconsArray,(function(t){return n("div",{key:t},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.folderInfo.image,expression:"folderInfo.image"}],attrs:{type:"radio",name:"icon",id:t},domProps:{value:t,checked:e._q(e.folderInfo.image,t)},on:{change:function(o){return e.$set(e.folderInfo,"image",t)}}}),n("label",{attrs:{for:t}},[n("div",{staticClass:"folder-icon_img-container",class:[e.folderInfo.color?e.folderInfo.color:"light-grey"]},[n("img",{attrs:{src:o("1771")("./"+t),alt:""}})])])])})),0),n("h5",[e._v("Выбирите цвет: ")]),n("div",{staticClass:"folder-color-select"},e._l(e.colorsArray,(function(t){return n("div",{key:t},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.folderInfo.color,expression:"folderInfo.color"}],staticClass:"folder-color-input",attrs:{type:"radio",name:"color",id:t+"-folder-color"},domProps:{value:t,checked:e._q(e.folderInfo.color,t)},on:{change:function(o){return e.$set(e.folderInfo,"color",t)}}}),n("label",{attrs:{for:t+"-folder-color"}},[n("div",{staticClass:"folder-color-outline",class:[e.folderInfo.color==t?t:"light-grey"]},[n("div",{staticClass:"folder-color",class:t})])])])})),0),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"save"},on:{click:function(t){void 0!=e.$route.params.folder?e.updateFolder():e.createFolder()}}})])])},Me=[],qe={name:"FoldersCreateUpdate",props:{folder:{},selectedCommunity:Number},data:function(){return{folderInfo:{id:Number,name:"",image:"icon-all.png",color:"light-grey",communityId:Number},isLoad:!1,color:"blue",icon:"icon-all.png",iconsArray:["icon-all.png","icon-box.png","icon-music.png","icon-coffee.png","icon-compass.png","icon-briefcase.png","icon-book.png","icon-home.png","icon-columns.png","icon-truck.png"],colorsArray:["blue","green","indigo","orange","pink","purple","red","teal","yellow"]}},methods:{createFolder:function(){var e=this;console.log("creating folder",this.folderInfo);var t={name:this.folderInfo.name,image:this.folderInfo.image,color:this.folderInfo.color,communityId:this.folderInfo.communityId};U(t).then((function(t){console.log(t),e.$router.push("/")}))},updateFolder:function(){var e=this;console.log("updating folder",this.folderInfo);var t={id:this.folderInfo.id,name:this.folderInfo.name,image:this.folderInfo.image,color:this.folderInfo.color};E(t).then((function(t){console.log(t),e.$router.push("/")}))}},mounted:function(){void 0!=this.$route.params.folder?(console.log("Update",this.$route.params.folder),console.log(this.$route.params.folder.name),this.folderInfo.id=this.$route.params.folder.id,this.folderInfo.name=this.$route.params.folder.name,this.folderInfo.image=this.$route.params.folder.image,this.folderInfo.color=this.$route.params.folder.color):(console.log("Create"),this.folderInfo.communityId=this.$route.params.selectedCommunity)}},Ye=qe,He=(o("eade"),Object(u["a"])(Ye,Re,Me,!1,null,"5bf8e802",null)),Je=He.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-folder"},[n("div",{staticClass:"card-image"},[n("div",{staticClass:"folder_img-container",class:[e.storageInfo.color?e.storageInfo.color:"light-grey"]},[n("img",{attrs:{src:o("1771")("./"+e.storageInfo.image),alt:"",srcset:""}})])]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"folder-card-header"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.storageInfo.name,expression:"storageInfo.name"}],attrs:{type:"text",name:"name",placeholder:"Имя хранилища"},domProps:{value:e.storageInfo.name},on:{input:function(t){t.target.composing||e.$set(e.storageInfo,"name",t.target.value)}}})]),n("div",{staticClass:"folder-icon-select"},e._l(e.iconsArray,(function(t){return n("div",{key:t},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.storageInfo.image,expression:"storageInfo.image"}],attrs:{type:"radio",name:"icon",id:t},domProps:{value:t,checked:e._q(e.storageInfo.image,t)},on:{change:function(o){return e.$set(e.storageInfo,"image",t)}}}),n("label",{attrs:{for:t}},[n("div",{staticClass:"folder-icon_img-container",class:[e.storageInfo.color?e.storageInfo.color:"light-grey"]},[n("img",{attrs:{src:o("1771")("./"+t),alt:""}})])])])})),0),n("h5",[e._v("Выбирите цвет: ")]),n("div",{staticClass:"folder-color-select"},e._l(e.colorsArray,(function(t){return n("div",{key:t},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.storageInfo.color,expression:"storageInfo.color"}],staticClass:"folder-color-input",attrs:{type:"radio",name:"color",id:t+"-folder-color"},domProps:{value:t,checked:e._q(e.storageInfo.color,t)},on:{change:function(o){return e.$set(e.storageInfo,"color",t)}}}),n("label",{attrs:{for:t+"-folder-color"}},[n("div",{staticClass:"folder-color-outline",class:[e.storageInfo.color==t?t:"light-grey"]},[n("div",{staticClass:"folder-color",class:t})])])])})),0),n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"save"},on:{click:function(t){void 0!=e.$route.params.storage?e.updateStorage():e.createStorage()}}})])])},Qe=[],Ve={name:"StorageCreateUpdate",props:{storage:{},selectedCommunity:Number},data:function(){return{storageInfo:{id:Number,name:"",image:"icon-all.png",color:"light-grey",communityId:Number},isLoad:!1,color:"blue",icon:"icon-all.png",iconsArray:["icon-all.png","icon-box.png","icon-music.png","icon-coffee.png","icon-compass.png","icon-briefcase.png","icon-book.png","icon-home.png","icon-columns.png","icon-truck.png"],colorsArray:["blue","green","indigo","orange","pink","purple","red","teal","yellow"]}},methods:{createStorage:function(){var e=this;console.log("creating storage",this.storageInfo);var t={name:this.storageInfo.name,image:this.storageInfo.image,color:this.storageInfo.color,communityId:this.storageInfo.communityId};b(t).then((function(t){console.log(t),e.$router.push("/")}))},updateStorage:function(){var e=this;console.log("updating storage",this.storageInfo);var t={id:this.storageInfo.id,name:this.storageInfo.name,image:this.storageInfo.image,color:this.storageInfo.color};w(t).then((function(t){console.log(t),e.$router.push("/")}))}},mounted:function(){void 0!=this.$route.params.storage?(console.log("Update",this.$route.params.storage),console.log(this.$route.params.storage.name),this.storageInfo.id=this.$route.params.storage.id,this.storageInfo.name=this.$route.params.storage.name,this.storageInfo.image=this.$route.params.storage.image,this.storageInfo.color=this.$route.params.storage.color):(console.log("Create"),this.storageInfo.communityId=this.$route.params.selectedCommunity)}},We=Ve,Xe=(o("e3e5"),Object(u["a"])(We,Ke,Qe,!1,null,"24182012",null)),Ze=Xe.exports,et=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("h2",[e._v("Сообщества")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newCommunityName,expression:"newCommunityName"}],attrs:{type:"text",placeholder:"Community name"},domProps:{value:e.newCommunityName},on:{input:function(t){t.target.composing||(e.newCommunityName=t.target.value)}}}),o("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.createCommunity()}}},[e._v("Создать Community")]),e._l(e.userCommunities,(function(t){return o("div",{key:t.id,staticClass:"community"},[o("p",[e._v(e._s(t.community.name))]),o("div",{staticClass:"community-buttons"},[o("router-link",{attrs:{to:{name:"CommunityCreateUpdate",params:{community:t}}}},[o("h2",{staticClass:"btn btn-sm btn-success"},[e._v("Редактировать")])]),o("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(o){return e.deleteCommunity(t.communityId)}}},[e._v("Удалить")])],1),o("hr")])}))],2)},tt=[];function ot(e){return r({method:"GET",url:"/api/community?communityId=".concat(e),token:localStorage.accessToken})}function nt(e){return r({method:"GET",url:"/api/communityUsers?selectedCommunity=".concat(e),token:localStorage.accessToken})}function at(e){return r({method:"POST",url:"/api/community",data:e,token:localStorage.accessToken})}function it(e){return console.log("request delete: ","/api/community?communityId=".concat(e)),r({method:"DELETE",url:"/api/community?communityId=".concat(e),token:localStorage.accessToken})}var rt={name:"Communities",data:function(){return{userCommunities:[],user:{selectedCommunity:7},newCommunityName:""}},methods:{loadPage:function(){var e=this;B().then((function(t){e.userCommunities=t})),l().then((function(t){e.user=t}))},createCommunity:function(){var e=this,t={name:this.newCommunityName};at(t).then((function(t){console.log(t),e.newCommunityName="",e.loadPage()}))},deleteCommunity:function(e){var t=this;it(e).then((function(e){console.log(e),t.loadPage()}))}},mounted:function(){this.loadPage()}},st=rt,lt=(o("834b"),Object(u["a"])(st,et,tt,!1,null,"80a2ca3a",null)),ct=lt.exports,mt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{},[o("h1",[e._v("Community create/update")]),o("h3",[e._v("Community name")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.communityInfo.name,expression:"communityInfo.name"}],attrs:{type:"text",placeholder:"Community name"},domProps:{value:e.communityInfo.name},on:{input:function(t){t.target.composing||e.$set(e.communityInfo,"name",t.target.value)}}}),o("p",[e._v("Владелец:")]),o("p",[e._v(e._s(e.communityInfo.user.name))]),o("p",[e._v(e._s(e.communityInfo.user.login))]),o("h3",[e._v("Пользователи группы")]),e._l(e.communityUsers,(function(t){return o("p",{key:t.id},[e._v(e._s(t)+" "),t.user.id!=e.communityInfo.user.id?o("button",{staticClass:"btn btn-danger",on:{click:function(o){return e.deleteUser(t.id)}}},[e._v("Delete User")]):e._e()])})),o("input",{directives:[{name:"model",rawName:"v-model",value:e.addUserToCommunity,expression:"addUserToCommunity"}],attrs:{type:"text",placeholder:"Login нового пользователя"},domProps:{value:e.addUserToCommunity},on:{input:function(t){t.target.composing||(e.addUserToCommunity=t.target.value)}}}),o("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.addUser()}}},[e._v("Add user to community")])],2)},dt=[],ut={name:"CommunityCreateUpdate",props:{community:{}},data:function(){return{communityInfo:{name:"",user:{name:""}},communityUsers:[],addUserToCommunity:""}},methods:{loadPage:function(){var e=this;console.log("PROP COMMUNITY",this.community),ot(this.community.communityId).then((function(t){console.log("thi is admin",t),e.communityInfo=t})),nt(this.community.communityId).then((function(t){e.communityUsers=t}))},addUser:function(){var e=this,t={login:this.addUserToCommunity,communityId:this.community.communityId};M(t).then((function(t){console.log(t),e.loadPage()}))},deleteUser:function(e){var t=this;R(e).then((function(e){console.log(e),t.loadPage()}))}},mounted:function(){this.loadPage()}},pt=ut,gt=(o("fc1d"),Object(u["a"])(pt,mt,dt,!1,null,"435771f2",null)),ft=gt.exports;n["a"].use(f["a"]);var vt=[{path:"*",name:"Login",component:ze},{path:"/",name:"Home",component:W},{path:"/Communities",name:"Communities",component:ct},{path:"/FoldersCreateUpdate/:folder",name:"FoldersCreateUpdate",props:!0,component:Je},{path:"/StorageCreateUpdate/:storage",name:"StorageCreateUpdate",props:!0,component:Ze},{path:"/CommunityCreateUpdate/:community",name:"CommunityCreateUpdate",props:!0,component:ft},{path:"/items/:from",name:"Items",props:!0,component:De},{path:"/login",name:"Login",component:ze},{path:"/registration",name:"Registration",component:Be}],ht=new f["a"]({routes:vt}),yt=ht,It={login:function(e){return r({method:"POST",url:"/api/login",data:e})},register:function(e){return r({method:"POST",url:"/api/register",data:e})},refreshToken:function(){return r({method:"POST",url:"/api/refreshToken",data:{refreshToken:localStorage.refreshToken}})},install:function(e){Object.defineProperty(e.prototype,"request",{get:function(){return It}})}},Ct=It;n["a"].config.productionTip=!1,n["a"].use(Ct),n["a"].prototype.$eventBus=new n["a"],new n["a"]({router:yt,render:function(e){return e(g)}}).$mount("#app")},5700:function(e,t,o){e.exports=o.p+"img/icon-coffee.72043645.png"},5810:function(e,t,o){e.exports=o.p+"img/icon-noicon.dc71fa85.png"},"5d0f":function(e,t,o){e.exports=o.p+"img/inventoryLogo.77c91c28.png"},"64df":function(e,t,o){e.exports=o.p+"img/icon-compass.2bfd5658.png"},7762:function(e,t,o){"use strict";o("0933")},"77bc":function(e,t,o){e.exports=o.p+"img/icon-box.9f586f26.png"},"7d89":function(e,t,o){e.exports=o.p+"img/icon-home.a7b09ae8.png"},"7ffb":function(e,t,o){},"828d":function(e,t,o){"use strict";o("9adf")},"834b":function(e,t,o){"use strict";o("0129")},"85ec":function(e,t,o){},8719:function(e,t,o){"use strict";o("adac")},9306:function(e,t,o){},"93e5":function(e,t,o){"use strict";o("3be8")},"9adf":function(e,t,o){},ab2d:function(e,t,o){"use strict";o("7ffb")},adac:function(e,t,o){},bbae:function(e,t,o){e.exports=o.p+"img/icon-briefcase.9d43583a.png"},c699:function(e,t,o){"use strict";o("ec22")},ca34:function(e,t,o){"use strict";o("ec42")},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"},d3a4:function(e,t,o){"use strict";o("efc2")},e043:function(e,t,o){e.exports=o.p+"img/icon-music.b4228849.png"},e2d8:function(e,t,o){},e3e5:function(e,t,o){"use strict";o("e2d8")},e7e4:function(e,t,o){e.exports=o.p+"img/icon-truck.aeba52e5.png"},eade:function(e,t,o){"use strict";o("9306")},ec22:function(e,t,o){},ec42:function(e,t,o){},efc2:function(e,t,o){},f7ea:function(e,t,o){e.exports=o.p+"img/icon-trash.441fabf1.png"},fc1d:function(e,t,o){"use strict";o("49ec")},fd4b:function(e,t,o){e.exports=o.p+"img/icon-columns.2dd32bea.png"}});
//# sourceMappingURL=app.9c5349a0.js.map